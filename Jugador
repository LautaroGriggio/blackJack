package jugadores;

import java.util.ArrayList;
import cartas.Carta;
import cartas.Puntaje;

public class Jugador {

    private String nombre;
    private int dinero;
    private ArrayList<Carta> mano = new ArrayList<>();

    public Jugador(String nombre, int dinero) {
        this.nombre = nombre;
        this.dinero = dinero;
    }


    public String getNombre() {
        return nombre;
    }

    public int getDinero() {
        return dinero;
    }
    
    protected void setNombre(String nombre) {
        this.nombre = nombre;
    }

    protected void setDinero(int dinero) {
        this.dinero = dinero;
    }
    protected ArrayList<Carta> getMano() {
        return mano;
    }


    public void agregarDinero(int monto) {
        dinero += monto;
    }

    public void restarDinero(int monto) {
        dinero -= monto;
    }

 
    public void recibirCarta(Carta carta) {
        mano.add(carta);
    }

    public void mostrarMano() {
        System.out.println("mano de " + nombre + ":");
        for (Carta carta : mano) {
            System.out.println(carta);
        }
    }

    public int calcularPuntos() {
        int puntos = 0;
        int cantidadAses = 0;

        for (Carta carta : mano) {
            int valor = carta.getPuntaje().getPuntaje();
            puntos += valor;
            if (carta.getPuntaje() == Puntaje.AS) {
            cantidadAses++;
            }
        }

        while (puntos > 21 && cantidadAses > 0) {
            cantidadAses--;
            puntos = puntos -10;
        }

        return puntos;
    }


    @Override
    public String toString() {
        return "jugador: " + nombre + "  dinero: " + dinero;
    }
}
